ðŸ”‘ Getting PayPal access token...
âœ… PayPal access token obtained
âœ… Subscription details retrieved: {
  status: 'ACTIVE',
  status_change_note: 'Approve activating subscription',
  status_update_time: '2025-08-20T18:27:46Z',
  id: 'I-BX29VKYR6247',
  plan_id: 'P-0DJ39569FW412871ENCTBHFQ',
  start_time: '2025-08-20T18:27:34Z',
  quantity: '1',
  shipping_amount: { currency_code: 'USD', value: '0.0' },
  subscriber: {
    email_address: 'sb-995ty34074309@personal.example.com',
    payer_id: 'RXSB98CHPUBKJ',
    name: { given_name: 'John', surname: 'Doe' },
    tenant: 'PAYPAL'
  },
  billing_info: {
    outstanding_balance: { currency_code: 'USD', value: '0.0' },
    cycle_executions: [ [Object] ],
    last_payment: { amount: [Object], time: '2025-08-20T18:27:45Z' },
    next_billing_time: '2025-08-21T10:00:00Z',
    failed_payments_count: 0
  },
  create_time: '2025-08-20T18:27:45Z',
  update_time: '2025-08-20T18:27:46Z',
  plan_overridden: false,
  links: [
    {
      href: 'https://api.sandbox.paypal.com/v1/billing/subscriptions/I-BX29VKYR6247/cancel',
      rel: 'cancel',
      method: 'POST'
    },
    {
      href: 'https://api.sandbox.paypal.com/v1/billing/subscriptions/I-BX29VKYR6247',
      rel: 'edit',
      method: 'PATCH'
    },
    {
      href: 'https://api.sandbox.paypal.com/v1/billing/subscriptions/I-BX29VKYR6247',
      rel: 'self',
      method: 'GET'
    },
    {
      href: 'https://api.sandbox.paypal.com/v1/billing/subscriptions/I-BX29VKYR6247/suspend',
      rel: 'suspend',
      method: 'POST'
    },
    {
      href: 'https://api.sandbox.paypal.com/v1/billing/subscriptions/I-BX29VKYR6247/capture',
      rel: 'capture',
      method: 'POST'
    }
  ]
}
ðŸ“‹ Subscription details: {
  id: 'I-BX29VKYR6247',
  status: 'ACTIVE',
  plan_id: 'P-0DJ39569FW412871ENCTBHFQ'
}
âœ… Subscription activated for user uf7FMFVpImdBRz0T3CqxzoNZpO72: premium
 POST /api/subscription/approve-native 200 in 3186ms
 GET /api/user/profile 200 in 347ms
ðŸ“Š Fetching subscription status for user: uf7FMFVpImdBRz0T3CqxzoNZpO72
ðŸ“Š Current subscription data: {
  id: 'I-BX29VKYR6247',
  status: 'active',
  planId: 'premium',
  paypalPlanId: 'P-0DJ39569FW412871ENCTBHFQ',
  lastChargedAt: '2025-08-20T18:27:49.881Z',
  nextBillingDate: '2025-08-21T18:27:49.881Z',
  isNativePayPal: true
}
ðŸ“Š User data for subscription status: {
  uid: 'uf7FMFVpImdBRz0T3CqxzoNZpO72',
  currentPlan: 'premium',
  credits: 200,
  hasPayerInfo: false,
  payerInfo: undefined,
  hasSubscription: true,
  subscription: {
    id: 'I-BX29VKYR6247',
    status: 'active',
    planId: 'premium',
    paypalPlanId: 'P-0DJ39569FW412871ENCTBHFQ',
    lastChargedAt: '2025-08-20T18:27:49.881Z',
    nextBillingDate: '2025-08-21T18:27:49.881Z',
    isNativePayPal: true
  }
}
 GET /api/subscription/status 200 in 973ms