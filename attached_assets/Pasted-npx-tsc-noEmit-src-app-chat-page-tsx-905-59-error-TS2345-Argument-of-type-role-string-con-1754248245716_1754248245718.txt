npx tsc --noEmit
src/app/chat/page.tsx:905:59 - error TS2345: Argument of type '{ role: string; content: string; }[]' is not assignable to parameter of type 'SetStateAction<Message[]>'.
  Type '{ role: string; content: string; }[]' is not assignable to type 'Message[]'.
    Type '{ role: string; content: string; }' is not assignable to type 'Message'.
      Types of property 'role' are incompatible.
        Type 'string' is not assignable to type '"user" | "assistant"'.

905                                               setMessages(initialMessages);
                                                              ~~~~~~~~~~~~~~~

src/app/chat/page.tsx:966:51 - error TS2345: Argument of type 'RecentConversation' is not assignable to parameter of type 'never'.

966                                 groups.today.push(conv);
                                                      ~~~~

src/app/chat/page.tsx:968:55 - error TS2345: Argument of type 'RecentConversation' is not assignable to parameter of type 'never'.

968                                 groups.yesterday.push(conv);
                                                          ~~~~

src/app/chat/page.tsx:970:54 - error TS2345: Argument of type 'RecentConversation' is not assignable to parameter of type 'never'.

970                                 groups.thisWeek.push(conv);
                                                         ~~~~

src/app/chat/page.tsx:972:55 - error TS2345: Argument of type 'RecentConversation' is not assignable to parameter of type 'never'.

972                                 groups.thisMonth.push(conv);
                                                          ~~~~

src/app/chat/page.tsx:974:51 - error TS2345: Argument of type 'RecentConversation' is not assignable to parameter of type 'never'.

974                                 groups.older.push(conv);
                                                      ~~~~

src/app/chat/page.tsx:1021:63 - error TS2362: The left-hand side of an arithmetic operation must be of type 'any', 'number', 'bigint' or an enum type.

1021                             const diffInSeconds = Math.floor((now - date) / 1000);
                                                                   ~~~

src/app/chat/page.tsx:1072:50 - error TS2339: Property 'scrollIntoView' does not exist on type 'never'.

1072                               chatEndRef.current.scrollIntoView({ behavior: 'smooth' });
                                                      ~~~~~~~~~~~~~~

src/app/chat/page.tsx:1137:78 - error TS7006: Parameter 'msg' implicitly has an 'any' type.

1137                                   const validMessages = savedMessages.filter(msg => {
                                                                                  ~~~

src/app/chat/page.tsx:1182:45 - error TS2345: Argument of type '{ role: string; content: string; }[]' is not assignable to parameter of type 'SetStateAction<Message[]>'.
  Type '{ role: string; content: string; }[]' is not assignable to type 'Message[]'.
    Type '{ role: string; content: string; }' is not assignable to type 'Message'.
      Types of property 'role' are incompatible.
        Type 'string' is not assignable to type '"user" | "assistant"'.

1182                                 setMessages(initialMessages);
                                                 ~~~~~~~~~~~~~~~

src/app/chat/page.tsx:1202:45 - error TS2345: Argument of type '{ role: string; content: string; }[]' is not assignable to parameter of type 'SetStateAction<Message[]>'.
  Type '{ role: string; content: string; }[]' is not assignable to type 'Message[]'.
    Type '{ role: string; content: string; }' is not assignable to type 'Message'.
      Types of property 'role' are incompatible.
        Type 'string' is not assignable to type '"user" | "assistant"'.

1202                                 setMessages(initialMessages);
                                                 ~~~~~~~~~~~~~~~

src/app/chat/page.tsx:1249:60 - error TS7006: Parameter 'e' implicitly has an 'any' type.

1249                           const handleSendMessage = async (e) => {
                                                                ~

src/app/chat/page.tsx:1276:41 - error TS2345: Argument of type '(prev: Message[]) => { role: string; content: string; }[]' is not assignable to parameter of type 'SetStateAction<Message[]>'.
  Type '(prev: Message[]) => { role: string; content: string; }[]' is not assignable to type '(prevState: Message[]) => Message[]'.
    Type '{ role: string; content: string; }[]' is not assignable to type 'Message[]'.
      Type '{ role: string; content: string; }' is not assignable to type 'Message'.
        Types of property 'role' are incompatible.
          Type 'string' is not assignable to type '"user" | "assistant"'.

1276                             setMessages(prev => [...prev, userMessage]);
                                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

src/app/chat/page.tsx:1294:51 - error TS18047: 'user' is possibly 'null'.

1294                               const token = await user.getIdToken();
                                                       ~~~~

src/app/chat/page.tsx:1432:45 - error TS2345: Argument of type '(prev: Message[]) => { role: string; content: any; }[]' is not assignable to parameter of type 'SetStateAction<Message[]>'.
  Type '(prev: Message[]) => { role: string; content: any; }[]' is not assignable to type '(prevState: Message[]) => Message[]'.
    Type '{ role: string; content: any; }[]' is not assignable to type 'Message[]'.
      Type '{ role: string; content: any; }' is not assignable to type 'Message'.
        Types of property 'role' are incompatible.
          Type 'string' is not assignable to type '"user" | "assistant"'.

1432                                 setMessages(prev => {
                                                 ~~~~~~~~~

src/app/chat/page.tsx:1579:46 - error TS2345: Argument of type 'string | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

1579                                 addToRecents(character);
                                                  ~~~~~~~~~

src/app/chat/page.tsx:1609:45 - error TS2345: Argument of type '(prev: Message[]) => { role: string; content: any; }[]' is not assignable to parameter of type 'SetStateAction<Message[]>'.
  Type '(prev: Message[]) => { role: string; content: any; }[]' is not assignable to type '(prevState: Message[]) => Message[]'.
    Type '{ role: string; content: any; }[]' is not assignable to type 'Message[]'.
      Type '{ role: string; content: any; }' is not assignable to type 'Message'.
        Types of property 'role' are incompatible.
          Type 'string' is not assignable to type '"user" | "assistant"'.

1609                                 setMessages(prev => [...prev, errorMessage]);
                                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

src/app/chat/page.tsx:1617:43 - error TS2345: Argument of type '(prev: Message[]) => { role: string; content: string; }[]' is not assignable to parameter of type 'SetStateAction<Message[]>'.
  Type '(prev: Message[]) => { role: string; content: string; }[]' is not assignable to type '(prevState: Message[]) => Message[]'.
    Type '{ role: string; content: string; }[]' is not assignable to type 'Message[]'.
      Type '{ role: string; content: string; }' is not assignable to type 'Message'.
        Types of property 'role' are incompatible.
          Type 'string' is not assignable to type '"user" | "assistant"'.

1617                               setMessages(prev => [...prev, errorMessage]);
                                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

src/app/chat/page.tsx:1627:58 - error TS7006: Parameter 'char' implicitly has an 'any' type.

1627                           const handleSelectCharacter = (char) => {
                                                              ~~~~

src/app/chat/page.tsx:1631:54 - error TS7006: Parameter 'char' implicitly has an 'any' type.

1631                           const getInitialMessage = (char) => {
                                                          ~~~~

src/app/chat/page.tsx:1696:54 - error TS7006: Parameter 'char' implicitly has an 'any' type.

1696                           const getCharacterImage = (char) => {
                                                          ~~~~

src/app/chat/page.tsx:1761:53 - error TS7006: Parameter 'char' implicitly has an 'any' type.

1761                           const getCharacterName = (char) => {
                                                         ~~~~

src/app/chat/page.tsx:1826:60 - error TS7006: Parameter 'char' implicitly has an 'any' type.

1826                           const getCharacterDescription = (char) => {
                                                                ~~~~

src/app/chat/page.tsx:1891:60 - error TS7006: Parameter 'char' implicitly has an 'any' type.

1891                           const getCharacterPersonality = (char) => {
                                                                ~~~~

src/app/chat/page.tsx:1956:47 - error TS7006: Parameter 'newView' implicitly has an 'any' type.

1956                           const navigateTo = (newView) => {
                                                   ~~~~~~~

src/app/chat/page.tsx:2206:73 - error TS18046: 'error' is of type 'unknown'.

2206                               console.error('❌ [DEBUG] Error details:', error.name, error.message);
                                                                             ~~~~~

src/app/chat/page.tsx:2206:85 - error TS18046: 'error' is of type 'unknown'.

2206                               console.error('❌ [DEBUG] Error details:', error.name, error.message);
                                                                                         ~~~~~

src/app/chat/page.tsx:2208:35 - error TS18046: 'error' is of type 'unknown'.

2208                               if (error.name === 'NotAllowedError') {
                                       ~~~~~

src/app/chat/page.tsx:2210:42 - error TS18046: 'error' is of type 'unknown'.

2210                               } else if (error.name === 'NotFoundError') {
                                              ~~~~~

src/app/chat/page.tsx:2212:42 - error TS18046: 'error' is of type 'unknown'.

2212                               } else if (error.name === 'NotSupportedError') {
                                              ~~~~~

src/app/chat/page.tsx:2373:41 - error TS2345: Argument of type '(prev: Message[]) => { role: string; content: string; }[]' is not assignable to parameter of type 'SetStateAction<Message[]>'.
  Type '(prev: Message[]) => { role: string; content: string; }[]' is not assignable to type '(prevState: Message[]) => Message[]'.
    Type '{ role: string; content: string; }[]' is not assignable to type 'Message[]'.
      Type '{ role: string; content: string; }' is not assignable to type 'Message'.
        Types of property 'role' are incompatible.
          Type 'string' is not assignable to type '"user" | "assistant"'.

2373                             setMessages(prev => [...prev, endMessage]);
                                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

src/app/chat/page.tsx:3047:83 - error TS18047: 'user' is possibly 'null'.

3047